(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(t,e,a){t.exports=a(239)},239:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(8),c=a(57),u=a(44),s=a(10),i=new Date,l=new Date;l.setMonth(l.getMonth()-10);var m={amountFrom:100,currencyFrom:"EUR",currencyTo:"USD",amountTo:"",data:{base:"EUR",rates:null},endAt:"".concat(i.getYear()+1900,"-").concat(i.getMonth()+1,"-").concat(i.getDate()),startAt:"".concat(l.getYear()+1900,"-").concat(l.getMonth()+1,"-").concat(l.getDate()),graph:{data:{labels:[0],datasets:[{fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[0]}]}}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INPUT_AMOUNT_FROM":return Object(s.a)({},t,{amountFrom:e.amountFrom,amountTo:Math.round(e.amountFrom*Object(s.a)({},t).data.rates[t.currencyTo]*100)/100});case"INPUT_CURRENCY_FROM":return Object(s.a)({},t,{currencyFrom:e.currencyFrom,amountTo:Math.round(Object(s.a)({},t).amountFrom*Object(s.a)({},t).data.rates[t.currencyTo]*100)/100});case"OUTPUT_CURRENCY_TO":return Object(s.a)({},t,{currencyTo:e.currencyTo,amountTo:Math.round(Object(s.a)({},t).amountFrom*Object(s.a)({},t).data.rates[e.currencyTo]*100)/100});case"CHANGE_CURRENCIES":return Object(s.a)({},t,{currencyFrom:Object(s.a)({},t).currencyTo,currencyTo:Object(s.a)({},t).currencyFrom,data:{base:Object(s.a)({},t).currencyFrom}});case"OUTPUT_AMOUNT_TO":return e.data.rates[t.currencyTo]?Object(s.a)({},t,{data:{base:e.data.base,rates:e.data.rates},amountTo:Math.round(Object(s.a)({},t).amountFrom*e.data.rates[t.currencyTo]*100)/100}):t;case"SET_GRAPH":var a=[];for(var r in e.data){var n={date:r,rate:e.data[r]};a.push(n)}a.sort(function(t,e){return new Date(t.date)-new Date(e.date)});var o=Object(s.a)({},t).graph;o.data.labels=[],o.data.datasets[0].data=[];for(var c=new Date(a[0].date).getMonth(),u=0,i=0,l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=0;p<a.length;p++)if(i<5){o.data.datasets[0].data.push(a[p].rate[Object(s.a)({},t).currencyTo]);var d=new Date(a[p].date).getMonth();d===c&&0===u?(o.data.labels.push(l[d]),u++,c=d):(o.data.labels.push(""),d!==c&&(c=d,u=0)),i++}else new Date(a[p].date).getMonth()!==c&&(i=0);return Object(s.a)({},t,{graph:{data:o.data}});default:return t}},d=Object(u.b)({exchangeComponent:p}),h=Object(u.c)(d),y=a(101),g=a(34),T=a(109),f=a(102),b=a(108),v=a(261),A=a(264),F=a(268),C=a(265),E=a(266),O=a(267),j=a(17),_=Object(v.a)(function(t){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:t.spacing(1),minWidth:120},selectEmpty:{marginTop:t.spacing(2)}}}),N=function(t){var e=_(),a=[];for(var r in t.data.rates)a.push(r);return n.a.createElement("div",{className:"input"},n.a.createElement(O.a,{id:"filled-with-placeholder",label:"Amount from",placeholder:"Put down an amount",onChange:function(e){var a=e.target.value;t.inputAmountFrom(a)},className:e.textField,margin:"dense",variant:"filled",value:t.amountFrom}),n.a.createElement(C.a,{variant:"filled",className:e.formControl},n.a.createElement(F.a,{htmlFor:"filled-age-native-simple"},"Currency from"),n.a.createElement(E.a,{native:!0,value:t.currencyFrom,onChange:function(e){var a=e.target.value;j.get("https://api.exchangeratesapi.io/latest?base=".concat(a)).then(function(e){console.log(e.data),t.outputAmountTo(e.data)}).then(t.inputCurrencyFrom(a)),j.get("https://api.exchangeratesapi.io/history?start_at=".concat(t.startAt,"&end_at=").concat(t.endAt,"&base=").concat(a,"&symbols=").concat(t.currencyTo)).then(function(e){t.setGraph(e.data.rates)})},margin:"dense",input:n.a.createElement(A.a,{name:"age",id:"filled-age-native-simple"})},n.a.createElement("option",{key:t.data.base,value:t.data.base},t.data.base),a.map(function(e){return e!==t.data.base?n.a.createElement("option",{key:e,value:e},e):null}))))},U=Object(v.a)(function(t){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:t.spacing(1),minWidth:120},selectEmpty:{marginTop:t.spacing(2)}}}),R=function(t){var e=U(),a=[];for(var r in t.data.rates)a.push(r);return n.a.createElement("div",{className:"output"},n.a.createElement(C.a,{variant:"filled",className:e.formControl},n.a.createElement(F.a,{htmlFor:"filled-age-native-simple"},"Currency to"),n.a.createElement(E.a,{native:!0,value:t.currencyTo,onChange:function(e){var a=e.target.value;j.get("https://api.exchangeratesapi.io/history?start_at=".concat(t.startAt,"&end_at=").concat(t.endAt,"&base=").concat(t.currencyFrom,"&symbols=").concat(a)).then(function(e){t.setGraph(e.data.rates)}).then(t.outputCurrencyTo(a))},margin:"dense",input:n.a.createElement(A.a,{id:"filled-age-native-simple"})},n.a.createElement("option",{key:t.currencyTo,value:t.currencyTo},t.currencyTo),a.map(function(e){return e!==t.currencyTo?n.a.createElement("option",{key:e,value:e},e):null}))),n.a.createElement(O.a,{id:"filled-with-placeholder",label:"Amount to",placeholder:"",className:e.textField,margin:"dense",variant:"filled",value:t.amountTo,InputProps:{readOnly:!0}}))},M=function(t){return n.a.createElement("button",{onClick:function(){j.get("https://api.exchangeratesapi.io/latest?base=".concat(t.currencyTo)).then(function(e){t.outputAmountTo(e.data)}).then(t.changeCurrencies()),j.get("https://api.exchangeratesapi.io/history?start_at=".concat(t.startAt,"&end_at=").concat(t.endAt,"&base=").concat(t.currencyTo,"&symbols=").concat(t.currencyFrom)).then(function(e){t.setGraph(e.data.rates)})},type:"button",value:"Change currencies"},n.a.createElement("i",{className:"fas fa-arrows-alt-h"}))},w=a(106),x=function(t){return n.a.createElement("div",{className:"graph"},n.a.createElement(w.a,{width:100,height:20,data:t.graph.data,options:{legend:{display:!1}}}))},G=function(t){function e(){return Object(y.a)(this,e),Object(T.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(g.a)(e,[{key:"componentDidMount",value:function(){var t=this;j.get("https://api.exchangeratesapi.io/latest?base=".concat(this.props.currencyFrom)).then(function(e){t.props.outputAmountTo(e.data)}),j.get("https://api.exchangeratesapi.io/history?start_at=".concat(this.props.startAt,"&end_at=").concat(this.props.endAt,"&base=").concat(this.props.currencyFrom,"&symbols=").concat(this.props.currencyTo)).then(function(e){t.props.setGraph(e.data.rates)})}},{key:"render",value:function(){var t=this.props;return n.a.createElement("div",null,n.a.createElement("div",{className:"exchange"},n.a.createElement(N,{inputAmountFrom:t.inputAmountFrom,amountFrom:t.amountFrom,inputCurrencyFrom:t.inputCurrencyFrom,currencyFrom:t.currencyFrom,outputAmountTo:t.outputAmountTo,data:t.data,currencyTo:t.currencyTo,endAt:t.endAt,startAt:t.startAt,setGraph:t.setGraph}),n.a.createElement(M,{changeCurrencies:t.changeCurrencies,currencyTo:t.currencyTo,currencyFrom:t.currencyFrom,outputAmountTo:t.outputAmountTo,endAt:t.endAt,startAt:t.startAt,setGraph:t.setGraph}),n.a.createElement(R,{outputCurrencyTo:t.outputCurrencyTo,outputAmountTo:t.outputAmountTo,currencyTo:t.currencyTo,currencyFrom:t.currencyFrom,amountTo:t.amountTo,data:t.data,endAt:t.endAt,startAt:t.startAt,setGraph:t.setGraph})),n.a.createElement(x,{graph:t.graph}))}}]),e}(n.a.Component),D=Object(c.b)(function(t){var e=t.exchangeComponent;return{amountFrom:e.amountFrom,currencyFrom:e.currencyFrom,currencyTo:e.currencyTo,amountTo:e.amountTo,data:e.data,endAt:e.endAt,startAt:e.startAt,graph:e.graph,setGraph:e.setGraph}},function(t){return{inputAmountFrom:function(e){t(function(t){return{type:"INPUT_AMOUNT_FROM",amountFrom:t}}(e))},inputCurrencyFrom:function(e){t(function(t){return{type:"INPUT_CURRENCY_FROM",currencyFrom:t}}(e))},outputCurrencyTo:function(e){t(function(t){return{type:"OUTPUT_CURRENCY_TO",currencyTo:t}}(e))},outputAmountTo:function(e){t(function(t){return{type:"OUTPUT_AMOUNT_TO",data:t}}(e))},changeCurrencies:function(){t({type:"CHANGE_CURRENCIES"})},setGraph:function(e){t(function(t){return{type:"SET_GRAPH",data:t}}(e))}}})(G),k=function(){return n.a.createElement("div",null,n.a.createElement(D,null))};Object(o.render)(n.a.createElement(c.a,{store:h},n.a.createElement(k,null)),document.getElementById("root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.6fd49cd3.chunk.js.map